module.exports = function download(fileUrl, savingDir, callback) {
    var http = require('http'),
        fs = require('fs'),
        path = require('path'),

        fileName = path.basename(fileUrl),
        savingName = path.normalize(savingDir + fileName);

    console.log('download started');

    var file = fs.createWriteStream(savingName);
    http.get(fileUrl, function (response) {
        response.pipe(file);
        file.on('finish', function () {
            file.close();
            console.log('finish')
            callback(null)
        });
    }).on('error', function (err) {
        fs.unlink(savingName);
        console.log('error ' + err.message);
        callback(err)
    });
};